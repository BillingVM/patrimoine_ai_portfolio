# Portfolio AI v1.1 - Quick Reference Card

## ğŸš€ What's New in v1.1

âœ… **Client Management** - Organize portfolios by client
âœ… **Navigation Bar** - Easy access to all pages
âœ… **Stats Dashboard** - See clients, portfolios, reports at a glance
âœ… **Entity Types** - Individual, Company, Trust, Family Office

---

## ğŸ“ URLs

| Page | URL |
|------|-----|
| Dashboard | `/portai/public/index.php` |
| **Clients (NEW)** | `/portai/public/clients.php` |
| Credits History | `/portai/public/credits-history.php` |

**Live URL**: https://sol.inoutconnect.com/portai/public/clients.php

---

## ğŸ”Œ API Endpoints (NEW)

| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/api/clients` | List all clients |
| POST | `/api/clients` | Create new client |
| GET | `/api/clients/:id` | Get client details |
| PUT | `/api/clients/:id` | Update client |
| DELETE | `/api/clients/:id` | Delete client |

**Base URL**: `http://localhost:3001/api`

---

## ğŸ“ Quick Tests

```bash
# Test server
curl http://localhost:3001/api/health

# List clients
curl http://localhost:3001/api/clients | jq

# Create client
curl -X POST http://localhost:3001/api/clients \
  -H "Content-Type: application/json" \
  -d '{"name":"Test Client","entity_type":"individual"}' | jq

# Verify existing features still work
curl http://localhost:3001/api/portfolios | jq
curl http://localhost:3001/api/credits/balance | jq
```

---

## ğŸ—„ï¸ Database

**New Table**: `clients`

**Modified Tables**:
- `portfolios_simple` - Added `client_id`, `portfolio_name`, etc.
- `reports_simple` - Added `report_type`, `created_at`

**Run Migration**:
```bash
cd /var/www/sol.inoutconnect.com/portai/api
node migrations/run-migration.js
```

---

## ğŸ¨ Features

### Client Card Shows:
- Client name
- Entity type badge (color-coded)
- Email & phone (if provided)
- Portfolio count
- Report count
- Created date

### Client Modal Form:
- Name (required)
- Entity Type (dropdown)
- Email (optional)
- Phone (optional)

### Actions Available:
- **ğŸ‘ï¸ View** - See client details (coming in v1.2)
- **âœï¸ Edit** - Modify client info
- **ğŸ—‘ï¸ Delete** - Remove client (if no portfolios)

---

## ğŸ”§ Server Commands

```bash
# Check status
pm2 status

# Restart
pm2 restart portai-api --update-env

# View logs
pm2 logs portai-api --lines 50

# Stop
pm2 stop portai-api

# Start
pm2 start /var/www/sol.inoutconnect.com/portai/api/ecosystem.config.js
```

---

## âœ… Verification Checklist

- [ ] Server running (`pm2 status`)
- [ ] Health check returns OK
- [ ] Clients page loads
- [ ] Can create new client
- [ ] Can edit existing client
- [ ] Navigation works across pages
- [ ] Existing portfolios still load
- [ ] Credits system still works
- [ ] File upload still works

---

## ğŸš¨ Important Notes

1. **Backward Compatible**: All v1.0 features still work
2. **Demo User**: Still using user_id = 1
3. **No Breaking Changes**: Safe to deploy
4. **Client-Portfolio Link**: Coming in v1.2
5. **Deletion Protection**: Can't delete clients with portfolios

---

## ğŸ“Š Current State

| Metric | Count |
|--------|-------|
| Clients | 1 (test client) |
| Portfolios | 2 (from v1.0) |
| Reports | 3 (from v1.0) |
| Credits | 91,413 |

---

## ğŸ› Quick Troubleshooting

**Problem**: Clients page doesn't load
**Fix**: `pm2 restart portai-api --update-env`

**Problem**: API returns 500 error
**Fix**: Check logs with `pm2 logs portai-api`

**Problem**: CSS not applied
**Fix**: Clear browser cache (Ctrl + F5)

**Problem**: Database error
**Fix**: Re-run migration script

---

## ğŸ“± Screenshots

### Clients Page:
- Empty state with "Add your first client" message
- Grid of client cards (350px min-width)
- Stats section (hidden if no clients)
- Navigation bar at top

### Client Card:
- Name as heading
- Entity badge (blue/purple/green/orange)
- Email & phone icons
- Portfolio/report counts in grid
- Three action buttons at bottom

### Add Client Modal:
- Form with 4 fields
- Save/Cancel buttons
- Input validation

---

## ğŸ”„ Next: v1.2 Features

Planning for next version:
- Portfolio-client linking
- Client detail page
- Bulk operations
- Client-level reports

---

## ğŸ“ Support

- **Logs**: `pm2 logs portai-api`
- **Full Docs**: `/portai/info/development_progress.md`
- **v1.1 Summary**: `/portai/info/v1.1_implementation_summary.md`

---

**Version**: 1.1.0
**Status**: âœ… Complete
**Date**: 2025-12-19
